<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GradeFlow - Charger</title>
    <link rel="stylesheet" href="css/desktop/loadScale.css" id="page-css">
    <link rel="stylesheet" href="css/desktop/common.css" id="common-css">
    <link rel="icon" type="image/x-icon" href="logo.png">
</head>
<body>
    <header>
        <h1>Charger un Barème</h1>
    </header>
    <div class="darkmode-toggle">
        <label for="darkmode" class="switch">
            <input type="checkbox" id="darkmode">
            <span class="slider"></span>
        </label>
        <span>Mode sombre</span>
    </div>
    <main>
        <div class="main-container">
            <div class="form-section">
                <div class="file-upload-section">
                    <input type="file" id="upload-json" accept="application/json">
                    <button id="load-bareme">Charger</button>
                </div>
                <hr>
                <form id="bareme-form" class="hidden">
                    <div id="scale-header">
                        <div class="input-section">
                            <label for="student-name">Nom de l'élève</label>
                            <input type="text" id="student-name" placeholder="Entrez le nom de l'élève">
                        </div>
                        <div class="input-section">
                            <label for="comments">Commentaire</label>
                            <textarea id="comments" placeholder="Entrez un commentaire" rows="3" style="width: 100%;"></textarea>
                        </div>
                    </div>
                    <div id="questions-container">
                        <!-- Les questions du barème seront ajoutées ici dynamiquement -->
                    </div>
                    <div class="form-actions">
                        <button type="button" id="save-button">Télécharger</button>
                        <button type="button" id="generate-button">Générer</button>
                        <button type="button" id="next-button">Ajouter</button>
                    </div>
                </form>
            </div>
            <aside class="students-section">
                <h2>Élèves notés</h2>
                <ul id="students-list">
                    <!-- La liste des élèves notés apparaîtra ici -->
                </ul>
            </aside>
        </div>
    </main>
    <footer>
        <p>© 2025 GradeFlow</p>
    </footer>
    <script src="js/QuestionHandler.js"></script>
    <script src="js/StudentHandler.js"></script>
    <script src="js/LoadScaleHandler.js"></script>
    <script src="js/darkmode.js"></script>
    <script>
        function loadResponsiveCSS() {
            const isMobile = window.innerWidth <= 767;
            const cssPath = isMobile ? 'css/mobile/' : 'css/desktop/';
            
            document.getElementById('common-css').setAttribute('href', cssPath + 'common.css');
            document.getElementById('page-css').setAttribute('href', cssPath + 'loadScale.css');
        }
      
        loadResponsiveCSS();
        window.addEventListener('resize', loadResponsiveCSS);
    </script>
</body>
</html>